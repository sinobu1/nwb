<!DOCTYPE html>

<html lang="ru">

<head>

Â  Â  <meta charset="utf-8"/>

Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>

Â  Â  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin/>

Â  Â  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"/>

Â  Â  <title>AI Assistant</title>

Â  Â  <script src="https://telegram.org/js/telegram-web-app.js"></script>

Â  Â  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

Â  Â  <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>

Â  Â  <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css"/>

Â  Â  <style>

Â  Â  Â  Â  :root {

Â  Â  Â  Â  Â  Â  --bg-main: #101010;

Â  Â  Â  Â  Â  Â  --bg-card: #1E1E1E;

Â  Â  Â  Â  Â  Â  --bg-select: #2C2C2E;

Â  Â  Â  Â  Â  Â  --bg-user-msg: #3E3E42;

Â  Â  Â  Â  Â  Â  --text-primary: #FFFFFF;

Â  Â  Â  Â  Â  Â  --text-secondary: #A0A0A0;

Â  Â  Â  Â  Â  Â  --border-color: #3A3A3C;

Â  Â  Â  Â  Â  Â  --font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'SF Pro Display', sans-serif;

Â  Â  Â  Â  Â  Â  --gold-highlight: #d8ab4e;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  html, body { position: fixed; inset: 0; overflow: hidden; font-family: var(--font-family); background-color: var(--bg-main); color: var(--text-primary); display: flex; justify-content: center; overscroll-behavior-y: contain; }

Â  Â  Â  Â  .app-wrapper { width: 100%; max-width: 450px; height: 100%; position: relative; overflow: hidden; display: flex; flex-direction: column; }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .screen {

Â  Â  Â  Â  Â  Â  position: absolute; inset: 0;

Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column;

Â  Â  Â  Â  Â  Â  transition: opacity 0.2s ease-out, visibility 0.2s ease-out;

Â  Â  Â  Â  Â  Â  background-color: var(--bg-main);

Â  Â  Â  Â  Â  Â  z-index: 10;

Â  Â  Â  Â  }

Â  Â  Â  Â  .screen.active { z-index: 20; }

Â  Â  Â  Â  .screen:not(.active) {

Â  Â  Â  Â  Â  Â  opacity: 0;

Â  Â  Â  Â  Â  Â  visibility: hidden;

Â  Â  Â  Â  Â  Â  pointer-events: none;

Â  Â  Â  Â  }



Â  Â  Â  Â  #main-screen { flex-grow: 1; }

Â  Â  Â  Â  #main-content-area { flex-grow: 1; overflow-y: auto; -webkit-overflow-scrolling: touch; padding: 3rem 1rem 1rem 1rem; }

Â  Â  Â  Â  .content-pane { display: none; }

Â  Â  Â  Â  .content-pane.active { display: block; }



Â  Â  Â  Â  h1, h2, p { margin: 0; }

Â  Â  Â  Â  h1 { font-size: 1.875rem; font-weight: 800; }

Â  Â  Â  Â  h2 { font-size: 1.25rem; font-weight: 700; }

Â  Â  Â  Â  p.subtitle { font-size: 1rem; color: var(--text-secondary); margin-top: 0.25rem; }



Â  Â  Â  Â  .swiper-container-wrapper { margin-top: 2rem; }

Â  Â  Â  Â  .swiper-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }

Â  Â  Â  Â  .swiper-nav-arrows { display: flex; gap: 0.5rem; }

Â  Â  Â  Â  .swiper-nav-arrow { width: 32px; height: 32px; background-color: var(--bg-card); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: opacity 0.2s; }

Â  Â  Â  Â  .swiper-nav-arrow.disabled { opacity: 0.3; cursor: not-allowed; }

Â  Â  Â  Â  .swiper-slide { width: 200px; height: 130px; cursor: pointer; }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .tg-card { border-radius: 20px; overflow: hidden; height: 100%; }

Â  Â  Â  Â  .carousel-card { height: 100%; display: flex; flex-direction: column; justify-content: space-between; padding: 1rem; text-align: left; }

Â  Â  Â  Â  .card-icon { font-size: 1.75rem; }

Â  Â  Â  Â  .card-title { font-size: 1rem; font-weight: 700; color: #FFFFFF; }

Â  Â  Â  Â  .card-description { font-size: 0.875rem; color: #FFFFFF; opacity: 0.85; margin-top: 0.25rem; }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .palette-1 { background: linear-gradient(45deg, #FF416C, #FF4B2B); }

Â  Â  Â  Â  .palette-2 { background: linear-gradient(45deg, #12C2E9, #C471ED, #F64F59); }

Â  Â  Â  Â  .palette-3 { background: linear-gradient(45deg, #00C9FF, #92FE9D); }

Â  Â  Â  Â  .palette-4 { background: linear-gradient(45deg, #FAD961, #F76B1C); }

Â  Â  Â  Â  .palette-5 { background: linear-gradient(45deg, #4A00E0, #8E2DE2); }

Â  Â  Â  Â  .palette-6 { background-color: #2D2D2D; }



Â  Â  Â  Â  .full-screen-card-list { display: grid; gap: 1rem; margin-top: 1.5rem; }

Â  Â  Â  Â  .full-screen-card { background-color: var(--bg-card); border-radius: 20px; padding: 1.5rem; display: flex; align-items: center; gap: 1.5rem; cursor: pointer; }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .chat-header { flex-shrink: 0; padding: 0.75rem 1rem; background: rgba(20,20,20,0.7); backdrop-filter: blur(20px); display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); z-index: 20; }

Â  Â  Â  Â  .chat-header .title { font-weight: 600; text-align: center; }

Â  Â  Â  Â  .chat-header-btn { width: 38px; height: 38px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: background-color 0.2s; }

Â  Â  Â  Â  .chat-header-btn:hover { background-color: var(--bg-card); }

Â  Â  Â  Â  .chat-messages { flex-grow: 1; overflow-y: auto; padding: 1rem; display: flex; flex-direction: column; gap: 0.75rem; }

Â  Â  Â  Â Â 

Â  Â  Â  Â  .chat-input-area {Â 

Â  Â  Â  Â  Â  Â  flex-shrink: 0;Â 

Â  Â  Â  Â  Â  Â  padding: 0.5rem 0.75rem;

Â  Â  Â  Â  Â  Â  border-top: 1px solid var(--border-color);Â 

Â  Â  Â  Â  Â  Â  background-color: var(--bg-main);Â 

Â  Â  Â  Â  Â  Â  display: flex;Â 

Â  Â  Â  Â  Â  Â  align-items: flex-end;

Â  Â  Â  Â  Â  Â  gap: 0.5rem;Â 

Â  Â  Â  Â  }

Â  Â  Â  Â  #chat-input {Â 

Â  Â  Â  Â  Â  Â  flex-grow: 1;

Â  Â  Â  Â  Â  Â  background-color: var(--bg-card); border-radius: 20px;Â 

Â  Â  Â  Â  Â  Â  padding: 0.75rem 1rem; border: none; color: var(--text-primary);Â 

Â  Â  Â  Â  Â  Â  font-size: 1rem; resize: none;Â 

Â  Â  Â  Â  Â  Â  line-height: 1.4;

Â  Â  Â  Â  Â  Â  min-height: calc(0.75rem * 2 + 1.4em);

Â  Â  Â  Â  Â  Â  max-height: 120px;

Â  Â  Â  Â  Â  Â  overflow-y: auto;

Â  Â  Â  Â  }



Â  Â  Â  Â  .chat-action-btn {

Â  Â  Â  Â  Â  Â  width: 40px; height: 40px;

Â  Â  Â  Â  Â  Â  background-color: var(--bg-card);

Â  Â  Â  Â  Â  Â  color: var(--text-secondary);

Â  Â  Â  Â  Â  Â  border-radius: 50%;

Â  Â  Â  Â  Â  Â  display: flex; align-items: center; justify-content: center;

Â  Â  Â  Â  Â  Â  cursor: pointer; flex-shrink: 0;

Â  Â  Â  Â  Â  Â  transition: transform 0.15s ease, opacity 0.2s ease, width 0.2s ease, padding 0.2s ease;

Â  Â  Â  Â  }

Â  Â  Â  Â  #send-btn {Â 

Â  Â  Â  Â  Â  Â  background-color: var(--gold-highlight);Â 

Â  Â  Â  Â  Â  Â  color: black;

Â  Â  Â  Â  Â  Â  transform: scale(0);

Â  Â  Â  Â  Â  Â  opacity: 0;

Â  Â  Â  Â  Â  Â  width: 0; /* Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ•: Ğ°Ğ½Ğ¸Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ ÑˆĞ¸Ñ€Ğ¸Ğ½Ñƒ Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾ÑĞ²Ğ»ĞµĞ½Ğ¸Ñ */

Â  Â  Â  Â  Â  Â  padding: 0;

Â  Â  Â  Â  }

Â  Â  Â  Â Â 

Â  Â  Â  Â  #send-btn.visible {

Â  Â  Â  Â  Â  Â  transform: scale(1);

Â  Â  Â  Â  Â  Â  opacity: 1;

Â  Â  Â  Â  Â  Â  width: 40px; /* Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ•: Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ ÑˆĞ¸Ñ€Ğ¸Ğ½Ñƒ */

Â  Â  Â  Â  }

Â  Â  Â  Â  /* Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ•: ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Ğ¡ĞºÑ€Ñ‹Ñ‚ÑŒ ĞºĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ñƒ" Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ¸ÑÑ‡ĞµĞ·Ğ°ĞµÑ‚, ĞºĞ¾Ğ³Ğ´Ğ° Ğ¿Ğ¾ÑĞ²Ğ»ÑĞµÑ‚ÑÑ ĞºĞ½Ğ¾Ğ¿ĞºĞ° "ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ" */

Â  Â  Â  Â  #hide-keyboard-btn.hidden {

Â  Â  Â  Â  Â  Â  width: 0;

Â  Â  Â  Â  Â  Â  opacity: 0;

Â  Â  Â  Â  Â  Â  padding: 0;

Â  Â  Â  Â  }



Â  Â  Â  Â  .ios-tab-bar {Â 

Â  Â  Â  Â  Â  Â  flex-shrink: 0;Â 

Â  Â  Â  Â  Â  Â  max-width: 400px;Â 

Â  Â  Â  Â  Â  Â  width: calc(100% - 2.5rem);Â 

Â  Â  Â  Â  Â  Â  margin: 0 auto 1.25rem auto;Â 

Â  Â  Â  Â  Â  Â  display: flex;

Â  Â  Â  Â  Â  Â  background: rgba(20,20,20,0.7);

Â  Â  Â  Â  Â  Â  backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  -webkit-backdrop-filter: blur(20px);

Â  Â  Â  Â  Â  Â  border-radius: 24px;

Â  Â  Â  Â  Â  Â  padding: 0.5rem;Â 

Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255,255,255,0.1);

Â  Â  Â  Â  Â  Â  z-index: 100;

Â  Â  Â  Â  }

Â  Â  Â  Â  .tab-item { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--text-secondary); cursor: pointer; }

Â  Â  Â  Â  .tab-item.active { color: var(--gold-highlight); }

Â  Â  Â  Â  .tab-item svg { width: 28px; height: 28px; margin-bottom: 2px; }

Â  Â  Â  Â  .tab-item span { font-size: 0.625rem; font-weight: 500; }

Â  Â  Â  Â Â 

Â  Â  Â  Â  /* ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸ Ğ±ĞµĞ· ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ */

Â  Â  Â  Â  .ios-card { background-color: var(--bg-card); border-radius: 1rem; padding: 1rem; margin-top: 1.5rem; }

Â  Â  Â  Â  .profile-header { display: flex; align-items: center; border-bottom: 1px solid var(--border-color); padding-bottom: 1rem; }

Â  Â  Â  Â  .profile-avatar { width: 64px; height: 64px; border-radius: 50%; margin-right: 1rem; background-color: #333; }

Â  Â  Â  Â  .profile-gems { display: flex; justify-content: space-between; align-items: center; padding-top: 1rem; }

Â  Â  Â  Â  #settings-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 1000; display: none; align-items: center; justify-content: center; }

Â  Â  Â  Â  .modal-content { background-color: var(--bg-card); padding: 1.5rem; border-radius: 1rem; width: calc(100% - 2rem); max-width: 400px; }

Â  Â  Â  Â  .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }

Â  Â  Â  Â  .custom-select { width: 100%; background-color: var(--bg-select); color: var(--text-primary); padding: 0.75rem 1rem; border-radius: 0.5rem; border: 1px solid var(--border-color); font-size: 1rem; margin-top: 0.5rem;}


        /* Ğ”ĞĞ‘ĞĞ’Ğ›Ğ•ĞĞ˜Ğ•: Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ (Ğ²Ñ€ĞµĞ¼Ñ, ÑÑ‚Ğ°Ñ‚ÑƒÑ) */
.message-meta {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.75rem; /* ĞœĞ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ğ¹ ÑˆÑ€Ğ¸Ñ„Ñ‚ */
    color: var(--text-secondary);
    float: right; /* ĞŸÑ€Ğ¸Ğ¶Ğ¸Ğ¼Ğ°ĞµĞ¼ Ğº Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğ¼Ñƒ ĞºÑ€Ğ°Ñ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ */
    margin-left: 0.75rem; /* ĞÑ‚ÑÑ‚ÑƒĞ¿ Ğ¾Ñ‚ Ñ‚ĞµĞºÑÑ‚Ğ° */
    margin-top: 0.25rem;
    line-height: 1; /* Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğµ Ğ²Ğ»Ğ¸ÑĞ»Ğ¾ Ğ½Ğ° Ğ²Ñ‹ÑĞ¾Ñ‚Ñƒ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ */
}

/* Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ Ğ¸ĞºĞ¾Ğ½Ğ¾Ğº-Ğ³Ğ°Ğ»Ğ¾Ñ‡ĞµĞº */
.message-meta svg {
    width: 1rem; /* 16px */
    height: 1rem;
}

/* Ğ¦Ğ²ĞµÑ‚ Ğ³Ğ°Ğ»Ğ¾Ñ‡ĞµĞº Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ */
.message-status-read svg {
    color: #4fc3f7; /* Ğ“Ğ¾Ğ»ÑƒĞ±Ğ¾Ğ¹ Ñ†Ğ²ĞµÑ‚, ĞºĞ°Ğº Ğ² Telegram */
}

/* Ğ”ĞĞ‘ĞĞ’Ğ›Ğ•ĞĞ˜Ğ•: Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ */
.chat-message.grouped {
    margin-top: -0.5rem; /* Ğ£Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ğ²ĞµÑ€Ñ…Ğ½Ğ¸Ğ¹ Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ "ÑĞ»Ğ¸Ğ¿Ğ»Ğ¸ÑÑŒ" */
    border-top-left-radius: 1.25rem;
    border-top-right-radius: 1.25rem;
}
.message-user.grouped {
    border-bottom-right-radius: 1.25rem; /* Ğ£Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ "Ñ…Ğ²Ğ¾ÑÑ‚Ğ¸Ğº" Ñƒ Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ĞµĞ³Ğ¾ */
}
.message-bot.grouped {
    border-bottom-left-radius: 1.25rem; /* Ğ£Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ "Ñ…Ğ²Ğ¾ÑÑ‚Ğ¸Ğº" Ñƒ Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ĞµĞ³Ğ¾ */
}


/* Ğ”ĞĞ‘ĞĞ’Ğ›Ğ•ĞĞ˜Ğ•: Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ñ‚ĞµĞ»Ñ Ğ´Ğ°Ñ‚ */
.chat-date-divider {
    text-align: center;
    margin: 1rem auto;
    background-color: rgba(44, 44, 46, 0.8); /* ĞŸĞ¾Ğ»ÑƒĞ¿Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½ */
    color: var(--text-primary);
    font-size: 0.8rem;
    font-weight: 500;
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
    width: fit-content;
}
Â  Â  </style>

</head>

<body>

Â  Â  <div class="app-wrapper">

Â  Â  Â  Â  <div id="main-screen" class="screen active">

Â  Â  Â  Â  Â  Â  <div id="main-content-area">

Â  Â  Â  Â  Â  Â  Â  Â  <div id="home-content" class="content-pane active">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h1>Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</h1><p class="subtitle">ĞŸĞ°Ğ½ĞµĞ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ¾Ğ¼</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="full-screen-card" style="margin-top: 1.5rem;">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="icon" style="font-size: 2rem;">ğŸ¨</div><div class="info"><h3>Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹</h3><p>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½Ğ¾Ğº Ğ¿Ğ¾ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ.</p></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-container-wrapper">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-header"><h2>ĞĞ³ĞµĞ½Ñ‚Ñ‹</h2><div class="swiper-nav-arrows"><div id="agents-nav-prev" class="swiper-nav-arrow"><svg width="16" viewBox="0 0 16 16"><path d="M10 13L5 8L10 3" stroke="currentColor" stroke-width="2"/></svg></div><div id="agents-nav-next" class="swiper-nav-arrow"><svg width="16" viewBox="0 0 16 16"><path d="M6 13L11 8L6 3" stroke="currentColor" stroke-width="2"/></svg></div></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper" id="agents-swiper"><div class="swiper-wrapper" id="agents-swiper-wrapper"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-container-wrapper">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper-header"><h2>ĞœĞ¾Ğ´ĞµĞ»Ğ¸</h2><div class="swiper-nav-arrows"><div id="models-nav-prev" class="swiper-nav-arrow"><svg width="16" viewBox="0 0 16 16"><path d="M10 13L5 8L10 3" stroke="currentColor" stroke-width="2"/></svg></div><div id="models-nav-next" class="swiper-nav-arrow"><svg width="16" viewBox="0 0 16 16"><path d="M6 13L11 8L6 3" stroke="currentColor" stroke-width="2"/></svg></div></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="swiper" id="models-swiper"><div class="swiper-wrapper" id="models-swiper-wrapper"></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="tools-content" class="content-pane">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h1>Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹</h1><p class="subtitle">ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ½Ğ° Ğ±Ğ°Ğ·Ğµ Ğ˜Ğ˜</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="tools-list" class="full-screen-card-list"></div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="profile-content" class="content-pane">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h1>ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ</h1><p class="subtitle">Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ğ²Ğ°ÑˆĞµĞ¼ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğµ</p>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="ios-card">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="profile-header"><img id="profile-avatar-img" alt="Avatar" class="profile-avatar"><div class="profile-info"><h2 id="profile-name"></h2><p id="profile-id"></p></div></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <div class="profile-gems"><span>ğŸ’ Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ Ğ³ĞµĞ¼Ğ¾Ğ²</span><span id="gem-balance" style="font-weight:700;">ĞĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <nav class="ios-tab-bar">

Â  Â  Â  Â  Â  Â  Â  Â  <div class="tab-item active" data-tab="home"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M10 3H4a1 1 0 00-1 1v6a1 1 0 001 1h6a1 1 0 001-1V4a1 1 0 00-1-1zm0 11H4a1 1 0 00-1 1v6a1 1 0 001 1h6a1 1 0 001-1v-6a1 1 0 00-1-1zm11-11h-6a1 1 0 00-1 1v6a1 1 0 001 1h6a1 1 0 001-1V4a1 1 0 00-1-1zm-1 12h-6a1 1 0 00-1 1v6a1 1 0 001 1h6a1 1 0 001-1v-6a1 1 0 00-1-1z"/></svg><span>Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="tab-item" data-tab="tools"><svg fill="currentColor" viewBox="0 0 24 24"><path d="M20.71 7.04a1 1 0 000-1.41l-2.34-2.34a1 1 0 00-1.41 0l-1.83 1.83L19.5 9.5l1.21-2.46zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"/></svg><span>Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹</span></div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="tab-item" data-tab="profile"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1c-1.29 1.92-3.5 3.2-6 3.2zM12 5a3 3 0 110 6 3 3 0 010-6zm0-3a10 10 0 100 20 10 10 0 000-20z"/></svg><span>ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ</span></div>

Â  Â  Â  Â  Â  Â  </nav>

Â  Â  Â  Â  </div>



Â  Â  Â  Â  <div id="chat-screen" class="screen">

Â  Â  Â  Â  Â  Â  <div class="chat-header">

Â  Â  Â  Â  Â  Â  Â  Â  <div id="chat-title" class="title"></div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="chat-settings-btn" class="chat-header-btn">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg fill="currentColor" width="20" height="20" viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94s-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18-.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.04.24.24.41.48.41h3.84c.24 0 .43-.17-.47.41l.36-2.54c.59-.24 1.13-.57-1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.21.08-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="chat-messages" id="chat-messages-container"></div>

Â  Â  Â  Â  Â  Â  <div class="chat-input-area">

Â  Â  Â  Â  Â  Â  Â  Â  <div id="hide-keyboard-btn" class="chat-action-btn">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <svg fill="currentColor" width="22" height="22" viewBox="0 0 24 24"><path d="M7.14,17.28L8.55,18.7L12,15.25L15.45,18.7L16.86,17.28L13.41,13.84L17.32,9.94L15.91,8.53L12,12.43L8.09,8.53L6.68,9.94L10.59,13.84L7.14,17.28Z" /></svg>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="chat-input" placeholder="Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ..." rows="1"></textarea>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="send-btn" class="chat-action-btn">

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M3.49999 20.5C4.33332 21.3333 5.66666 21.1667 6.33332 20.5L21.3333 13C22.1667 12.5 22.1667 11.5 21.3333 11L6.33332 3.5C5.66666 2.83333 4.33332 2.66667 3.49999 3.5C2.66666 4.33333 2.83332 5.66667 3.49999 6.33333L16.1667 12L3.49999 17.6667C2.83332 18.3333 2.66666 19.6667 3.49999 20.5Z" fill="black"/></svg>

Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  </div>



Â  Â  Â  Â  <div id="settings-modal">

Â  Â  Â  Â  Â  Â  <div class="modal-content">

Â  Â  Â  Â  Â  Â  Â  Â  <div class="modal-header"><h3>ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ‡Ğ°Ñ‚Ğ°</h3><div class="modal-close-btn">âœ•</div></div>

Â  Â  Â  Â  Â  Â  Â  Â  <div><label>ĞĞ“Ğ•ĞĞ¢</label><select id="agent-select" class="custom-select"></select></div>

Â  Â  Â  Â  Â  Â  Â  Â  <div style="margin-top: 1rem;"><label>ĞœĞĞ”Ğ•Ğ›Ğ¬</label><select id="model-select" class="custom-select"></select></div>

Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â Â 

<script>

    // --- Ğ“Ğ›ĞĞ‘ĞĞ›Ğ¬ĞĞ«Ğ• ĞŸĞ•Ğ Ğ•ĞœĞ•ĞĞĞ«Ğ• Ğ”Ğ›Ğ¯ Ğ›ĞĞ“Ğ˜ĞšĞ˜ Ğ§ĞĞ¢Ğ ---
let lastMessageInfo = { sender: null, date: null };

document.addEventListener('DOMContentLoaded', () => {

Â  Â  const tg = window.Telegram.WebApp;



Â  Â  // --- Ğ”ĞĞĞĞ«Ğ• (Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹) ---

Â  Â  const agents = [ { key: "universal_ai_basic", name: "Ğ£Ğ½Ğ¸Ğ²ĞµÑ€ÑĞ°Ğ»", icon: "ğŸŒ", desc: "ĞÑ‚Ğ²ĞµÑ‚Ñ‹ Ğ½Ğ° Ğ»ÑĞ±Ñ‹Ğµ Ñ‚ĞµĞ¼Ñ‹", palette: "palette-5" }, { key: "idea_generator", name: "Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¸Ğ´ĞµĞ¹", icon: "ğŸ’¡", desc: "ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ² Ğ¿Ğ¾Ğ¸ÑĞºĞµ Ğ¸Ğ´ĞµĞ¹", palette: "palette-4" }, { key: "career_coach", name: "ĞšĞ°Ñ€ÑŒĞµÑ€Ğ½Ñ‹Ğ¹ ĞºĞ¾ÑƒÑ‡", icon: "ğŸ“ˆ", desc: "Ğ¡Ğ¾Ğ²ĞµÑ‚Ñ‹ Ğ¿Ğ¾ ĞºĞ°Ñ€ÑŒĞµÑ€Ğµ", palette: "palette-3" }, { key: "programming_partner", name: "ĞŸĞ°Ñ€Ñ‚Ğ½ĞµÑ€-Ğ¿Ñ€Ğ¾Ğ³ĞµÑ€", icon: "ğŸ’»", desc: "ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ² ĞºĞ¾Ğ´Ğµ", palette: "palette-2" }, { key: "tutor_assistant", name: "Ğ ĞµĞ¿ĞµÑ‚Ğ¸Ñ‚Ğ¾Ñ€", icon: "ğŸ“š", desc: "ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ñ ÑƒÑ‡ĞµĞ±Ğ¾Ğ¹", palette: "palette-1" }, { key: "literary_editor", name: "Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¾Ñ€", icon: "âœï¸", desc: "Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²", palette: "palette-6" } ];

Â  Â  const models = [ { key: "google_gemini_2_0_flash", name: "Gemini 2.0", icon: "âš¡ï¸", desc: "Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ°Ñ", palette: "palette-6" }, { key: "google_gemini_2_5_flash_preview", name: "Gemini 2.5 Flash", icon: "âœ¨", desc: "ĞŸÑ€Ğ¾Ğ´Ğ²Ğ¸Ğ½ÑƒÑ‚Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ", palette: "palette-1" }, { key: "custom_api_gemini_2_5_pro", name: "Gemini Pro", icon: "ğŸ’", desc: "ĞœĞ¾Ñ‰Ğ½Ğ°Ñ Ğ¸ Ñ‚Ğ¾Ñ‡Ğ½Ğ°Ñ", palette: "palette-5" }, { key: "custom_api_grok_3", name: "Grok 3", icon: "ğŸ¸", desc: "Ğ¡ ÑĞ¼Ğ¾Ñ€Ğ¾Ğ¼ Ğ¸ ÑĞ°Ñ€ĞºĞ°Ğ·Ğ¼Ğ¾Ğ¼", palette: "palette-2" }, { key: "custom_api_gpt_4o_mini", name: "GPT-4o mini", icon: "ğŸ’¡", desc: "Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ğ¸ Ğ½ĞµĞ´Ğ¾Ñ€Ğ¾Ğ³Ğ°Ñ", palette: "palette-3" } ];

Â  Â  const tools = [ { key: "text_analyzer", name: "ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€ Ñ‚ĞµĞºÑÑ‚Ğ°", icon: "ğŸ”", desc: "ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ñ‚Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑĞ»Ğ¾Ğ²." }, { key: "translator_pro", name: "ĞŸÑ€Ğ¾-Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‡Ğ¸Ğº", icon: "ğŸŒ", desc: "ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¸ Ñ€ĞµÑ‡Ğ¸." }, { key: "summarizer", name: "Ğ¡ÑƒĞ¼Ğ¼Ğ°Ñ€Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€", icon: "ğŸ“‘", desc: "ĞšÑ€Ğ°Ñ‚ĞºĞ¸Ğ¹ Ğ¿ĞµÑ€ĞµÑĞºĞ°Ğ· Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ñ… ÑÑ‚Ğ°Ñ‚ĞµĞ¹ Ğ¸ Ğ²Ğ¸Ğ´ĞµĞ¾." } ];



Â  Â  let selectedAgentKey = agents[0].key;

Â  Â  let selectedModelKey = models[0].key;

Â  Â  let agentsSwiper, modelsSwiper;



Â  Â  // --- Ğ­Ğ›Ğ•ĞœĞ•ĞĞ¢Ğ« DOM ---

Â  Â  const mainScreen = document.getElementById('main-screen');

Â  Â  const chatScreen = document.getElementById('chat-screen');

Â  Â  const chatTitle = document.getElementById('chat-title');

Â  Â  const chatMessagesContainer = document.getElementById('chat-messages-container');

Â  Â  const chatInput = document.getElementById('chat-input');

Â  Â  const sendBtn = document.getElementById('send-btn');

Â  Â  const hideKeyboardBtn = document.getElementById('hide-keyboard-btn');

Â  Â  const settingsModal = document.getElementById('settings-modal');

Â  Â  const agentSelect = document.getElementById('agent-select');

Â  Â  const modelSelect = document.getElementById('model-select');



Â  Â  // --- Ğ¡Ğ¢Ğ˜Ğ›Ğ˜ Ğ”Ğ›Ğ¯ Ğ¡ĞĞĞ‘Ğ©Ğ•ĞĞ˜Ğ™ Ğ§ĞĞ¢Ğ ---

Â  Â  const styleSheet = document.createElement("style");

Â  Â  styleSheet.innerText = `

Â  Â  Â  Â  .chat-message {Â 

Â  Â  Â  Â  Â  Â  padding: 0.6rem 1rem; border-radius: 1.25rem; max-width: 80%; word-wrap: break-word; line-height: 1.4;Â 

Â  Â  Â  Â  Â  Â  opacity: 0; transform: translateY(10px);Â 

Â  Â  Â  Â  Â  Â  animation: pop-in 0.3s ease forwards;

Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes pop-in { to { opacity: 1; transform: translateY(0); } }

Â  Â  Â  Â  .message-bot { background-color: var(--bg-card); align-self: flex-start; border-bottom-left-radius: 0.25rem; }

Â  Â  Â  Â  .message-user { background-color: var(--bg-user-msg); align-self: flex-end; border-bottom-right-radius: 0.25rem; }

Â  Â  Â  Â  .message-bot.typing { color: var(--text-secondary); font-style: italic; }

Â  Â  Â  Â  .typing::after { content: '.'; animation: dots 1.2s steps(5, end) infinite; }

Â  Â  Â  Â  @keyframes dots { 0%, 20% { content: '.'; } 40% { content: '..'; } 60% { content: '...'; } 80%, 100% { content: '...'; } }

Â  Â  `;

Â  Â  document.head.appendChild(styleSheet);



Â  Â  // Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ• 1: IntersectionObserver Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹

Â  Â  const observer = new IntersectionObserver((entries) => {

Â  Â  Â  Â  entries.forEach(entry => {

Â  Â  Â  Â  Â  Â  if (entry.isIntersecting) {

Â  Â  Â  Â  Â  Â  Â  Â  // ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ»Ğ°ÑÑ Ğ´Ğ»Ñ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸, Ğ½Ğ¾ Ğ½Ğ°Ñˆ CSS ÑƒĞ¶Ğµ ÑÑ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸

Â  Â  Â  Â  Â  Â  Â  Â  observer.unobserve(entry.target); // ĞÑ‚Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµĞ¼ÑÑ Ğ¿Ğ¾ÑĞ»Ğµ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  });

Â  Â  }, { threshold: 0.1 });



// Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ•: Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ¸ĞºĞ¾Ğ½Ğ¾Ğº ÑÑ‚Ğ°Ñ‚ÑƒÑĞ°
function getStatusIcon(status) {
    if (status === 'sent') {
        return `<svg fill="currentColor" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"/></svg>`;
    }
    if (status === 'read') {
        // Ğ”Ğ²Ğ¾Ğ¹Ğ½Ğ°Ñ Ğ³Ğ°Ğ»Ğ¾Ñ‡ĞºĞ°
        return `<svg fill="currentColor" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"/><path d="M4.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L4.97 4.97z"/></svg>`;
    }
    return ''; // ĞĞµÑ‚ Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ° Ğ¸Ğ»Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ²
}

Â  Â  // --- ĞĞ¡ĞĞĞ’ĞĞ«Ğ• Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ˜ ---

Â  Â  function switchScreen(screenToShow) {

Â  Â  Â  Â  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));

Â  Â  Â  Â  screenToShow.classList.add('active');

Â  Â  }



Â  Â  function showTab(tabId) {

Â  Â  Â  Â  document.querySelectorAll('.content-pane').forEach(p => p.classList.remove('active'));

Â  Â  Â  Â  document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));

Â  Â  Â  Â  document.getElementById(`${tabId}-content`).classList.add('active');

Â  Â  Â  Â  document.querySelector(`.tab-item[data-tab="${tabId}"]`).classList.add('active');

Â  Â  }



Â  Â  function openChat() {

Â  Â  Â  Â  updateChatTitle();

Â  Â  Â  Â  chatMessagesContainer.innerHTML = '';Â 

Â  Â  Â  Â  addMessageToChat('bot', 'Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ! Ğ§ĞµĞ¼ Ğ¼Ğ¾Ğ³Ñƒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ?');

Â  Â  Â  Â  switchScreen(chatScreen);

Â  Â  Â  Â  tg.BackButton.show();

Â  Â  }



Â  Â  function closeChat() {

Â  Â  Â  Â  switchScreen(mainScreen);

Â  Â  Â  Â  tg.BackButton.hide();

Â  Â  }

Â  Â Â 

Â  Â  function addMessageToChat(sender, text, options = {}) {
    const { 
        isTyping = false, 
        status = 'sent' /* 'sent' Ğ¸Ğ»Ğ¸ 'read' */ 
    } = options;
    
    const now = new Date();
    const currentDate = now.toDateString(); // 'Fri May 24 2024'

    // 1. ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ ĞĞ ĞĞ£Ğ–ĞĞĞ¡Ğ¢Ğ¬ Ğ ĞĞ—Ğ”Ğ•Ğ›Ğ˜Ğ¢Ğ•Ğ›Ğ¯ Ğ”ĞĞ¢Ğ«
    if (currentDate !== lastMessageInfo.date) {
        const divider = document.createElement('div');
        divider.className = 'chat-date-divider';
        // Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ "Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ", "Ğ’Ñ‡ĞµÑ€Ğ°" Ğ¸ Ñ‚.Ğ´.
        const today = new Date().toDateString();
        const yesterday = new Date(Date.now() - 86400000).toDateString();

        if (currentDate === today) {
            divider.textContent = 'Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ';
        } else if (currentDate === yesterday) {
            divider.textContent = 'Ğ’Ñ‡ĞµÑ€Ğ°';
        } else {
            divider.textContent = now.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long' });
        }
        chatMessagesContainer.appendChild(divider);
    }
    
    // 2. ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ ĞĞ Ğ“Ğ Ğ£ĞŸĞŸĞ˜Ğ ĞĞ’ĞšĞ£
    const lastMessageElement = chatMessagesContainer.querySelector('.chat-message:last-of-type');
    let isGrouped = false;
    if (lastMessageElement && sender === lastMessageInfo.sender && currentDate === lastMessageInfo.date) {
        isGrouped = true;
        // Ğ£Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ "Ñ…Ğ²Ğ¾ÑÑ‚Ğ¸Ğº" Ñƒ Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰ĞµĞ³Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
        lastMessageElement.classList.remove(`message-${sender}-tailed`);
        lastMessageElement.classList.add('grouped');
    }

    // 3. Ğ¡ĞĞ—Ğ”ĞĞĞ˜Ğ• ĞĞĞ’ĞĞ“Ğ Ğ¡ĞĞĞ‘Ğ©Ğ•ĞĞ˜Ğ¯
    const msgDiv = document.createElement('div');
    msgDiv.className = `chat-message message-${sender} message-${sender}-tailed`;
    if (isGrouped) {
        // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿ ÑĞ²ĞµÑ€Ñ…Ñƒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ğµ
        msgDiv.style.marginTop = "0.25rem"; 
    }
    
    // Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ´Ğ»Ñ Ñ‚ĞµĞºÑÑ‚Ğ° Ğ¸ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
    const contentWrapper = document.createElement('div');
    const textSpan = document.createElement('span');
    textSpan.textContent = text;
    
    contentWrapper.appendChild(textSpan);

    // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Ğ²Ñ€ĞµĞ¼Ñ Ğ¸ ÑÑ‚Ğ°Ñ‚ÑƒÑ)
    if (!isTyping) {
        const metaDiv = document.createElement('div');
        metaDiv.className = 'message-meta';
        
        const timeSpan = document.createElement('span');
        timeSpan.textContent = formatTime(now);
        
        metaDiv.appendChild(timeSpan);

        // Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
        if (sender === 'user') {
            const statusSpan = document.createElement('span');
            statusSpan.className = `message-status-${status}`;
            statusSpan.innerHTML = getStatusIcon(status);
            metaDiv.appendChild(statusSpan);
        }
        contentWrapper.appendChild(metaDiv);
    } else {
        msgDiv.classList.add('typing');
    }
    
    msgDiv.appendChild(contentWrapper);
    chatMessagesContainer.appendChild(msgDiv);
    
    // 4. ĞĞ‘ĞĞĞ’Ğ›Ğ•ĞĞ˜Ğ• Ğ˜ĞĞ¤ĞĞ ĞœĞĞ¦Ğ˜Ğ˜ Ğ ĞŸĞĞ¡Ğ›Ğ•Ğ”ĞĞ•Ğœ Ğ¡ĞĞĞ‘Ğ©Ğ•ĞĞ˜Ğ˜
    lastMessageInfo.sender = sender;
    lastMessageInfo.date = currentDate;

    // 5. ĞŸĞ›ĞĞ’ĞĞĞ¯ ĞŸĞ ĞĞšĞ Ğ£Ğ¢ĞšĞ
    requestAnimationFrame(() => {
        chatMessagesContainer.scrollTo({ top: chatMessagesContainer.scrollHeight, behavior: 'smooth' });
    });

    return msgDiv;
}

// Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ñ‹ addMessageToChat, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²ÑƒÑ Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ
function openChat() {
    updateChatTitle();
    chatMessagesContainer.innerHTML = ''; 
    lastMessageInfo = { sender: null, date: null }; // Ğ¡Ğ±Ñ€Ğ°ÑÑ‹Ğ²Ğ°ĞµĞ¼ Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğ¸ Ñ‡Ğ°Ñ‚Ğ°
    addMessageToChat('bot', 'Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ! Ğ§ĞµĞ¼ Ğ¼Ğ¾Ğ³Ñƒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‡ÑŒ?');
    switchScreen(chatScreen);
    tg.BackButton.show();
}

function handleSendMessage() {
    const text = chatInput.value.trim();
    if (!text) return;

    // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ ÑĞ¾ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ¼ "Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¾" (Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°)
    addMessageToChat('user', text, { status: 'read' });
    
    chatInput.value = '';
    handleInput.call(chatInput);

    const typingIndicator = addMessageToChat('bot', 'ĞŸĞµÑ‡Ğ°Ñ‚Ğ°ĞµÑ‚', { isTyping: true });

    // Ğ¡Ğ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° Ğ¾Ñ‚ Ğ±Ğ¾Ñ‚Ğ°
    setTimeout(() => {
        const botResponse = 'Ğ­Ñ‚Ğ¾ ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ²Ñ‹Ğ³Ğ»ÑĞ´Ğ¸Ñ‚ ÑĞ¾Ğ²ÑĞµĞ¼ ĞºĞ°Ğº Ğ² Telegram!';
        typingIndicator.remove(); // Ğ£Ğ´Ğ°Ğ»ÑĞµĞ¼ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿ĞµÑ‡Ğ°Ñ‚Ğ¸
        addMessageToChat('bot', botResponse); // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ½Ğ¾Ğ²Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
    }, 1500);
}



Â  Â  Â  Â  const userMessageText = text;

Â  Â  Â  Â  chatInput.value = '';

Â  Â  Â  Â  handleInput.call(chatInput); // Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ´Ğ»Ñ ÑĞ±Ñ€Ğ¾ÑĞ° Ğ²Ñ‹ÑĞ¾Ñ‚Ñ‹ Ğ¸ ĞºĞ½Ğ¾Ğ¿Ğ¾Ğº

Â  Â  Â  Â Â 

Â  Â  Â  Â  // Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ DocumentFragment Ğ´Ğ»Ñ Ğ¿Ğ°ĞºĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ DOM

Â  Â  Â  Â  const fragment = document.createDocumentFragment();



Â  Â  Â  Â  // 1. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ²Ğ¾ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚

Â  Â  Â  Â  const userMsgEl = addMessageToChat('user', userMessageText, { fragment });



Â  Â  Â  Â  // 2. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿ĞµÑ‡Ğ°Ñ‚Ğ¸ Ğ²Ğ¾ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚

Â  Â  Â  Â  const typingIndicatorId = `typing-${Date.now()}`;

Â  Â  Â  Â  const typingIndicator = addMessageToChat('bot', 'ĞŸĞµÑ‡Ğ°Ñ‚Ğ°ĞµÑ‚', { id: typingIndicatorId, isTyping: true, fragment });



Â  Â  Â  Â  // 3. Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ²ĞµÑÑŒ Ñ„Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚ Ğ² DOM Ğ·Ğ° Ğ¾Ğ´Ğ½Ñƒ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ

Â  Â  Â  Â  chatMessagesContainer.appendChild(fragment);



Â  Â  Â  Â  // 4. ĞĞ°Ğ±Ğ»ÑĞ´Ğ°ĞµĞ¼ Ğ·Ğ° Ğ½Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¾ĞºÑ€ÑƒÑ‡Ğ¸Ğ²Ğ°ĞµĞ¼

Â  Â  Â  Â  requestAnimationFrame(() => {

Â  Â  Â  Â  Â  Â  observer.observe(userMsgEl);

Â  Â  Â  Â  Â  Â  observer.observe(typingIndicator);

Â  Â  Â  Â  Â  Â  chatMessagesContainer.scrollTo({ top: chatMessagesContainer.scrollHeight, behavior: 'smooth' });

Â  Â  Â  Â  });



Â  Â  Â  Â  // Ğ¡Ğ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° Ğ¾Ñ‚ Ğ±Ğ¾Ñ‚Ğ°

Â  Â  Â  Â  setTimeout(() => {

Â  Â  Â  Â  Â  Â  const indicator = document.getElementById(typingIndicatorId);

Â  Â  Â  Â  Â  Â  if (indicator) {

Â  Â  Â  Â  Â  Â  Â  Â  requestAnimationFrame(() => {

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  indicator.textContent = 'Ğ­Ñ‚Ğ¾ ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°.';

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  indicator.classList.remove('typing');

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ĞŸĞ»Ğ°Ğ²Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¾ĞºÑ€ÑƒÑ‚ĞºĞ° Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‚ĞµĞºÑÑ‚Ğ°

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  chatMessagesContainer.scrollTo({ top: chatMessagesContainer.scrollHeight, behavior: 'smooth' });

Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  }, 1500);

Â  Â  }

Â  Â Â 

Â  Â  function handleInput() {

Â  Â  Â  Â  // ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ²Ñ‹Ğ·Ğ¾Ğ² Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ²Ñ‹ÑĞ¾Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

Â  Â  Â  Â  requestAnimationFrame(() => {

Â  Â  Â  Â  Â  Â  this.style.height = 'auto';

Â  Â  Â  Â  Â  Â  this.style.height = `${this.scrollHeight}px`;

Â  Â  Â  Â  });



Â  Â  Â  Â  const hasText = this.value.trim().length > 0;

Â  Â  Â  Â  sendBtn.classList.toggle('visible', hasText);

Â  Â  Â  Â  hideKeyboardBtn.classList.toggle('hidden', hasText);

Â  Â  }



Â  Â  function updateChatTitle() {

Â  Â  Â  Â  const agent = agents.find(a => a.key === selectedAgentKey);

Â  Â  Â  Â  const model = models.find(m => m.key === selectedModelKey);

Â  Â  Â  Â  chatTitle.innerHTML = `${agent?.icon || ''} ${agent?.name || ''} <span style="color: var(--text-secondary); padding: 0 0.25em;">&bull;</span> ${model?.name || ''}`;

Â  Â  }

Â  Â Â 

Â  Â  // --- Ğ—ĞĞŸĞĞ›ĞĞ•ĞĞ˜Ğ• Ğ˜ĞĞ¢Ğ•Ğ Ğ¤Ğ•Ğ™Ğ¡Ğ (Ğ±ĞµĞ· ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹) ---

Â  Â  function populateCarousel(containerId, items, type) { const wrapper = document.getElementById(containerId); if (!wrapper) return; wrapper.innerHTML = ''; items.forEach(item => { const slide = document.createElement('div'); slide.className = 'swiper-slide'; slide.innerHTML = `<div class="tg-card"><div class="carousel-card ${item.palette}"><div class="card-icon">${item.icon}</div><div><h3 class="card-title">${item.name}</h3><p class="card-description">${item.desc}</p></div></div></div>`; slide.addEventListener('click', () => { if (type === 'agent') selectedAgentKey = item.key; if (type === 'model') selectedModelKey = item.key; openChat(); }); wrapper.appendChild(slide); }); }

Â  Â  function populateToolsList() { const list = document.getElementById('tools-list'); if (!list) return; list.innerHTML = ''; tools.forEach(item => { const card = document.createElement('div'); card.className = 'full-screen-card'; card.innerHTML = `<div class="icon" style="font-size: 2rem;">${item.icon}</div><div class="info"><h3>${item.name}</h3><p>${item.desc}</p></div>`; list.appendChild(card); }); }

Â  Â  function displayProfileData() { try { const user = tg.initDataUnsafe?.user; if (!user || !user.id) throw new Error("User data not found"); document.getElementById('profile-avatar-img').src = user.photo_url || 'https://via.placeholder.com/64'; document.getElementById('profile-name').textContent = `${user.first_name || ''} ${user.last_name || ''}`.trim() || 'ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ'; document.getElementById('profile-id').textContent = `ID: ${user.id}`; } catch (e) { document.getElementById('profile-name').textContent = 'ĞĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…'; document.getElementById('profile-id').textContent = 'ID: Ğ/Ğ”'; } }

Â  Â  function updateNavArrows(swiper, prefix) { const prev = document.getElementById(`${prefix}-nav-prev`); const next = document.getElementById(`${prefix}-nav-next`); if(prev && next) { prev.classList.toggle('disabled', swiper.isBeginning); next.classList.toggle('disabled', swiper.isEnd); } }

Â  Â  function openSettingsModal() { settingsModal.style.display = 'flex'; }

Â  Â  function closeSettingsModal() { settingsModal.style.display = 'none'; }

Â  Â Â 

Â  Â  // --- Ğ˜ĞĞ˜Ğ¦Ğ˜ĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ¯ ĞŸĞ Ğ˜Ğ›ĞĞ–Ğ•ĞĞ˜Ğ¯ ---

Â  Â  function init() {

Â  Â  Â  Â  tg.ready();

Â  Â  Â  Â  tg.expand();

Â  Â  Â  Â  tg.BackButton.onClick(closeChat);

Â  Â  Â  Â Â 

Â  Â  Â  Â  populateCarousel('agents-swiper-wrapper', agents, 'agent');

Â  Â  Â  Â  populateCarousel('models-swiper-wrapper', models, 'model');

Â  Â  Â  Â  populateToolsList();

Â  Â  Â  Â  displayProfileData();

Â  Â  Â  Â Â 

Â  Â  Â  Â  agents.forEach(a => agentSelect.appendChild(new Option(`${a.icon} ${a.name}`, a.key)));

Â  Â  Â  Â  models.forEach(m => modelSelect.appendChild(new Option(m.name, m.key)));

Â  Â  Â  Â Â 

Â  Â  Â  Â  agentsSwiper = new Swiper("#agents-swiper", { slidesPerView: 'auto', spaceBetween: 12, on: { init(s){ updateNavArrows(s, 'agents') }, slideChange(s){ updateNavArrows(s, 'agents') } }});

Â  Â  Â  Â  modelsSwiper = new Swiper("#models-swiper", { slidesPerView: 'auto', spaceBetween: 12, on: { init(s){ updateNavArrows(s, 'models') }, slideChange(s){ updateNavArrows(s, 'models') } }});

Â  Â  Â  Â Â 

Â  Â  Â  Â  document.querySelectorAll('.tab-item').forEach(tab => tab.addEventListener('click', () => showTab(tab.dataset.tab)));

Â  Â  Â  Â  document.getElementById('agents-nav-prev').addEventListener('click', () => agentsSwiper.slidePrev());

Â  Â  Â  Â  document.getElementById('agents-nav-next').addEventListener('click', () => agentsSwiper.slideNext());

Â  Â  Â  Â  document.getElementById('models-nav-prev').addEventListener('click', () => modelsSwiper.slidePrev());

Â  Â  Â  Â  document.getElementById('models-nav-next').addEventListener('click', () => modelsSwiper.slideNext());



Â  Â  Â  Â  sendBtn.addEventListener('click', handleSendMessage);

Â  Â  Â  Â  chatInput.addEventListener('keydown', (e) => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); handleSendMessage(); } });

Â  Â  Â  Â  chatInput.addEventListener('input', handleInput);

Â  Â  Â  Â  hideKeyboardBtn.addEventListener('click', () => { chatInput.blur(); });



Â  Â  Â  Â  document.getElementById('chat-settings-btn').addEventListener('click', openSettingsModal);

Â  Â  Â  Â  document.querySelector('.modal-close-btn')?.addEventListener('click', closeSettingsModal);

Â  Â  Â  Â  settingsModal.addEventListener('click', (e) => { if (e.target === settingsModal) closeSettingsModal(); });

Â  Â  Â  Â  agentSelect.addEventListener('change', (e) => { selectedAgentKey = e.target.value; updateChatTitle(); });

Â  Â  Â  Â  modelSelect.addEventListener('change', (e) => { selectedModelKey = e.target.value; updateChatTitle(); });

Â  Â  Â  Â Â 

Â  Â  Â  Â  // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ĞºĞ½Ğ¾Ğ¿Ğ¾Ğº Ğ² Ñ‡Ğ°Ñ‚Ğµ

Â  Â  Â  Â  handleInput.call(chatInput);

Â  Â  }



Â  Â  init();

});

</script>

</body>

</html>
